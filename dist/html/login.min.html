<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../dist/css/login.min.css">
</head>
<body>
    <!-- 头 -->
    <header>
        <div class="header-box">
            <div class="header-left">
                <img src="../img/logo.jpg" alt="">
                <img src="../img/shu.png" alt="">
                <p>注册第五大道</p>
            </div>
            <div class="header-right">
                <img src="../img/indexdianhua.png" alt="">
                <p>
                    客服热线：4008-6767-38
                </p>
            </div>
        </div>
        
    </header>

    <!-- 注册 -->
    <div class="zhu">
        <div class="zhu1">
            <div class="zhu-right">
                <div class="head">
                    账户登录
                </div>
                    <p> <input type="text" name="uname" id="uname" value="" placeholder="&nbsp;&nbsp;手机号"/></p>
                    <p><input type="password" name="upwd" id="upwd" value=""  placeholder="&nbsp;&nbsp;请输入密码"/></p>
                    <p><input type="button" name="sub" id="sub" value="立即登录" />&nbsp;&nbsp;
                        <input type="button" name="go" id="go" value="去注册" /></p>
                
                        <div class="denglu">
                            <input type="checkbox" class="input-deng">
                            <p>自动登录</p>
                            <a href="">忘记密码?</a>
                        </div>

                    <img src="../../dist/img/qita.min.png" alt="">

                    <div class="qita">
                        <img src="../../dist/img/indexweixin.min.png" alt="">
                        <img src="../../dist/img/indexQQ.min.png" alt="">
                        <img src="../../dist/img/indexbo.min.png" alt="">
                    </div>
            </div>
        </div>
        
    </div>

    
<!-- 底部 -->
<div class="bottom-wrap">
    <div class="bottom-con">
        <div class="VIP">
            <ul>
                  <li>
                      <a class="min-logo" href="">
                          <img src="../img/10.jpg" alt="">
                          <span>正品保障</span>
                      </a>
                  </li>
                  <li>
                      <a class="min-logo" href="">
                          <img src="../img/14.jpg" alt="">
                          <span>专柜发货</span>
                      </a>
                  </li>
                  <li>
                      <a class="min-logo" href="">
                          <img src="../img/12.jpg" alt="">
                          <span>无忧售后</span>
                      </a>
                  </li>
                  <li>
                      <a class="min-logo" href="">
                          <img src="../img/13.jpg" alt="">
                          <span>VIP服务</span>
                      </a>
                  </li>
                  <li>
                      <a class="min-logo" href="">
                          <img src="../img/14.jpg" alt="">
                          <span>权威荣誉</span>
                      </a>
                  </li>
            </ul>
        </div>
        <div class="APP">
            <div class="help">
                <p class="nerver">服务保障</p>
                <ul>
                    <li><a href="">品牌授权正品</a></li>
                    <li><a href="">品牌客服</a></li>
                    <li><a href="">预约到店体验</a></li>
                    <li><a href="">7天无理由退货</a></li>
                </ul>
            </div>
            <div class="help">
              <p class="nerver">使用帮助</p>
              <ul>
                  <li><a href="">常见问题</a></li>
                  <li><a href="">会员制度</a></li>
                  <li><a href="">会员制度</a></li>
                  <li><a href="">7天无理由退货</a></li>
              </ul>
          </div>
          <div class="help">
              <p class="nerver">支付方式</p>
              <ul>
                  <li><a href="">品牌授权正品</a></li>
                  <li><a href="">品牌客服</a></li>
                  <li><a href="">会员制度</a></li>
                  <li><a href="">7天无理由退货</a></li>
              </ul>
          </div>
          <div class="help">
              <p class="nerver">售后方式</p>
              <ul>
                  <li><a href="">品牌授权正品</a></li>
                  <li><a href="">品牌客服</a></li>
                  <li><a href="">预约到店体验</a></li>
                  <li><a href="">7天无理由退货</a></li>
              </ul>
          </div>
          <div class="help">
              <p class="nerver">配送方式</p>
              <ul>
                  <li><a href="">配送说明</a></li>
                  <li><a href="">品牌客服</a></li>
                  <li><a href="">品牌客服</a></li>
                  <li><a href="">7天无理由退货</a></li>
              </ul>
          </div>
          <div class="help help-2">
              <p class="nerver">第五大道APP</p>
              <a href=""><img src="../img/78.jpg" alt=""></a>
          </div>
          <div class="help help-2">
              <p class="nerver">第五大道微博</p>
              <a href=""><img src="../img/78.jpg" alt=""></a>
          </div>

        </div>
        <div class="copy">
             <div class="copy-top">
                     <a href="">箱包</a>
                     <a href="">美妆</a>
                     <a href="">服饰</a>
                     <a href="">箱包</a>
                     <a href="">美妆</a>
                     <a href="">服饰</a>
                     <a href="">美妆</a>
                     <a href="">服饰</a>
             </div>
             <div class="copy-top top-2">
                      <a href="">关于第五大道</a>
                      <a href="">网站地图</a>
                      <a href="">品牌合作专区</a>
                      <a href="">媒体聚焦</a>
                      <a href="">商务合作</a>
                      <a href="">商家合作</a>
                      <a href="">品牌合作专区</a>
                      <a href="">媒体聚焦</a>
                      <a href="">商务合作</a>
                      <a href="">商家合作</a>
          </div>
          <div class="copy-top">
            <a href="">Copyright © 2008-2014 瑞美嘉信国际信息技术（北京）有限公司  版权所有京ICP备09012701号 京公网安备 11010102003747号 丨营业执照</a>
         </div>
         <div class="copy-icon">
              <a href=""><img src="./img/15.jpg" alt=""></a>
              <a href=""><img src="./img/16.jpg" alt=""></a>
              <a href=""><img src="./img/15.jpg" alt=""></a>
         </div>
        </div>
    </div>
</div>

</body>

<script src="../../dist/uglify/tools.min.js"></script>
<script src="../../dist/uglify/cookie.min.js"></script>
<script type="text/javascript">
    class Login{
        constructor(){
            //属性
            //用户名
            this.o_uname = document.querySelector('#uname');
            //密码
            this.o_upwd = document.querySelector('#upwd');
            //登录按钮
            this.o_reg = document.querySelector('#sub');
            //转按钮
            this.o_log = document.querySelector('#go');
            //调用添加事件的方法
            this.addEvent();
        }
        //添加事件
        addEvent(){
            var arr = [false,false];
            //判断用户名是否合法以及是否在cookie中存在 
            this.o_uname.onblur = function(){
                //正则 （2~10的中文）
                let re = /^1\d{10}$/;
                //获取用户名
                let s_uname = this.value;
                //检测是否合格
                if(!re.test(s_uname)){
                    alert('请输入有效11位数字');
                    arr[0] = false;
                    return;
                }else{
                    arr[0] = true;
                }
                
                // //获取cookie
                // let cookieStr = getCookie('registors') ? getCookie('registors') : '';
                // //将cookie字符串转为json对象
                // let cookieObj = convertStrToObj(cookieStr);
                // //判断注册的用户名是否在cookie中存在
                // //in : 判断一个属性是否属于某个对象
                // if(s_uname in cookieObj){
                // 	alert('用户名已存在！');
                // 	arr[0] = false;
                // 	return;
                // }else{
                // 	arr[0] = true;
                // }
            }
            //判断密码是否合法
            this.o_upwd.onblur = function(){
                //正则（3-16数字)
                let re = /^\d{3,16}$/;
                //获取密码
                let s_upwd = this.value;
                //检测是否合法
                if(!re.test(s_upwd)){
                    alert('请输入3~16位的数字！');
                    arr[1] = false;
                }else{
                    arr[1] = true;
                }
            }
            
            
            //如果页面中的内容全部合法，就可以进行正常注册了
            //点击注册按钮，进行注册
            this.o_reg.onclick = function(){
                if(arr.indexOf(false) === -1){
                    //获取 用户名
                    let s_uname = this.o_uname.value;
                    //获取密码
                    let s_upwd = this.o_upwd.value;
                    //获取cookie
                    let cookieStr = getCookie('registors') ? getCookie('registors') : '';
                    //将cookie字符串转为json对象
                    let cookieObj = convertStrToObj(cookieStr);
                    //判断用户名是否存在
                    if(s_uname in cookieObj){
                        //判断密码是否一致
                        if(s_upwd === cookieObj[s_uname]){
                            alert('登录成功!');
                            location.href = '../index.html';
                            return;
                        }else{
                            alert('密码错误！');
                        }
                    }else{
                        alert('用户名不存在！');
                    }
                    
                }else{
                    alert('请完善表单！');
                    
                }
            }.bind(this);
            //跳转注册
            this.o_log.onclick = function(){
                location.href = './sign.html';
            }
        }
    }

    new Login();
</script>
</html>